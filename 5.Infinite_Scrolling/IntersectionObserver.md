## InterSection Observer API

Intersection Observer API(êµì°¨ ê´€ì°°ì API)ëŠ” Chrome 51ë²„ì „ ë¶€í„° ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” Web APIì´ë‹¤.     

MDNì—ì„œ ë§í•˜ëŠ” Intersection Observerì„ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ì´ìœ ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ê²ƒë“¤ì´ ìˆë‹¤. 

1. í˜ì´ì§€ê°€ ìŠ¤í¬ë¡¤ ë˜ëŠ” ë„ì¤‘ì— ë°œìƒí•˜ëŠ” ì´ë¯¸ì§€ë‚˜ ë‹¤ë¥¸ ì»¨í…ì¸ ì˜ ì§€ì—° ë¡œë”©.
2. ìŠ¤í¬ë¡¤ ì‹œì—, ë” ë§ì€ ì»¨í…ì¸ ê°€ ë¡œë“œ ë° ë Œë”ë§ë˜ì–´ ì‚¬ìš©ìê°€ í˜ì´ì§€ë¥¼ ì´ë™í•˜ì§€ ì•Šì•„ë„ ë˜ê²Œ í•˜ëŠ” infinite-scroll ì„ êµ¬í˜„.
3. ê´‘ê³  ìˆ˜ìµì„ ê³„ì‚°í•˜ê¸° ìœ„í•œ ìš©ë„ë¡œ ê´‘ê³ ì˜ ê°€ì‹œì„± ë³´ê³ .
4. ì‚¬ìš©ìì—ê²Œ ê²°ê³¼ê°€ í‘œì‹œë˜ëŠ” ì—¬ë¶€ì— ë”°ë¼ ì‘ì—…ì´ë‚˜ ì• ë‹ˆë©”ì´ì…˜ì„ ìˆ˜í–‰í•  ì§€ ì—¬ë¶€ë¥¼ ê²°ì •.

-----------------------------------------------------     
### â‰ `scroll` ì´ë²¤íŠ¸ì˜ ë¬¸ì œì  â‰          

`Infinite Scrolling` í”„ë¡œì íŠ¸ì—ì„œ ìŠ¤í¬ë¡¤ì„ ëê¹Œì§€ ë‚´ë¦° ê²½ìš°, ì•„ë˜ì— ê³„ì†í•˜ì—¬ í¬ìŠ¤íŠ¸ë“¤ì„ ì¶”ê°€í•˜ì—¬ ë³´ì—¬ì¤€ë‹¤.   
ì—¬ê¸°ì„œëŠ” `scroll` ì´ë²¤íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ íŠ¹ì • ìœ„ì¹˜ì— ë„ë‹¬í•˜ì˜€ì„ ë•Œì˜ ì•¡ì…˜ì„ ì¶”ê°€í•˜ì˜€ë‹¤. í•˜ì§€ë§Œ `scroll` ì´ë²¤íŠ¸ëŠ” ì§§ì€ ì‹œê°„ ë‚´ì— ìˆ˜ë°±, ìˆ˜ì²œ ê±´ê¹Œì§€ í˜¸ì¶œë  ìˆ˜ ìˆê³ , ë™ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ë˜ê¸° ë•Œë¬¸ì— ë©”ì¸ ì“°ë ˆë“œì— ì˜í–¥ì„ ë¯¸ì¹œë‹¤.  
ê·¸ë¦¬ê³  í•œ í˜ì´ì§€ ì•ˆì— ì—¬ëŸ¬ ê°œì˜ `scroll` ì´ë²¤íŠ¸ê°€ ì¡´ì¬í•œë‹¤ë©´ ì´ë²¤íŠ¸ê°€ ëŠì„ ì—†ì´ í˜¸ì¶œë  ìˆ˜ ìˆë‹¤.      

ê·¸ë ‡ê¸° ë•Œë¬¸ì— `scroll` ì´ë²¤íŠ¸ì— ì¡°ê¸ˆì´ë¼ë„ ë¬´ê±°ìš´ ì½”ë“œë¥¼ ì‘ì„±í•œë‹¤ë©´, ì›í•˜ëŠ” ê²°ê³¼ë¥¼ ì–»ì§€ ëª»í•˜ê±°ë‚˜ ìµœì•…ì—ëŠ” ë¸Œë¼ìš°ì €ê°€ ë‹¤ìš´ë  ìˆ˜ ìˆë‹¤.        

ì´ëŸ¬í•œ ì´ìœ ë“¤ ë•Œë¬¸ì— ê°€ëŠ¥í•˜ë‹¤ë©´ `scroll` ì´ë²¤íŠ¸ ëŒ€ì‹ , `Intersection observer API` ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. 

-----------------------------------------------------           
### ğŸŒˆintersection observer ì‚¬ìš©ë²•

* ê¸°ë³¸ ë¬¸ë²•
```javascript
const io = new IntersectionObserver(callback, options); // ê´€ì°°ì ì´ˆê¸°í™”
io.observer(element); // ê´€ì°°í•  ìš”ì†Œ ë“±ë¡
```
* `callback`   

ê´€ì°°í•  ëŒ€ìƒì´ ë“±ë¡ë˜ê±°ë‚˜, ê°€ì‹œì„±(ë³´ì´ëŠ”ì§€ ë³´ì´ì§€ ì•ŠëŠ”ì§€)ì— ë³€í™”ê°€ ìƒê¸°ë©´, ê´€ì°°ìëŠ” callbackì„ ì‹¤í–‰í•œë‹¤.   
callbackì€ `entries`,`observer` ë‘ê°€ì§€ì˜ ì¸ìˆ˜ë¥¼ ê°€ì§„ë‹¤. 

```javascript
const io = new IntersectionObserver((entries, observer) => {}, options);
```  

* `entries`  
  IntersectionObserverEntry ì¸ìŠ¤í„´ìŠ¤ì˜ ë°°ì—´ì´ë‹¤.    
  IntersectionObserverEntryëŠ” ì½ê¸° ì „ìš©(Read only)ì˜ ë‹¤ìŒ ì†ì„±ë“¤ì„ í¬í•¨í•œë‹¤.    
  
  * `boundingClientRect`: ê´€ì°° ëŒ€ìƒì˜ ì‚¬ê°í˜• ì •ë³´(DOMRectReadOnly)
  * `intersectionRect`: ê´€ì°° ëŒ€ìƒì˜ êµì°¨í•œ ì˜ì—­ ì •ë³´(DOMRectReadOnly)
  * `intersectionRatio`: ê´€ì°° ëŒ€ìƒì˜ êµì°¨í•œ ì˜ì—­ ë°±ë¶„ìœ¨(intersectionRect ì˜ì—­ì—ì„œ boundingClientRect ì˜ì—­ê¹Œì§€ ë¹„ìœ¨, Number)
  * `isIntersecting`: ê´€ì°° ëŒ€ìƒì˜ êµì°¨ ìƒíƒœ(Boolean)
  * `rootBounds`: ì§€ì •í•œ ë£¨íŠ¸ ìš”ì†Œì˜ ì‚¬ê°í˜• ì •ë³´(DOMRectReadOnly)
  * `target`: ê´€ì°° ëŒ€ìƒ ìš”ì†Œ(Element)
  * `time`: ë³€ê²½ì´ ë°œìƒí•œ ì‹œê°„ ì •ë³´(DOMHighResTimeStamp)

* `options`
  * `root`     
        
      default : `null`, ë¸Œë¼ìš°ì €ì˜ viewport   
      
      ![](https://raw.githubusercontent.com/hyeyoon/blog/master/public/img/4/root.png)
  * `rootMargin`
           
      default : `0px 0px 0px 0px`  
      root ì—˜ë¦¬ë¨¼íŠ¸ì˜ margin ê°’ì´ë‹¤.
      ![](https://raw.githubusercontent.com/hyeyoon/blog/master/public/img/4/rootmargin.png)
  
  * `threshold`    
     
     default : `0`      
     
     0.0~1.0 ì‚¬ì´ì˜ ìˆ«ì í˜¹ì€ ì´ ìˆ«ìë“¤ë¡œ ì´ë£¨ì–´ì§„ ë°°ì—´ë¡œ, íƒ€ê²Ÿ ì—˜ë¦¬ë¨¼íŠ¸ì— ëŒ€í•œ êµì°¨ ì˜ì—­ ë¹„ìœ¨ì„ ì˜ë¯¸í•œë‹¤.        
     0.0ì˜ ê²½ìš°, íƒ€ê²Ÿ ì—˜ë¦¬ë¨¼íŠ¸ê°€ êµì°¨ì˜ì—­ì— ì§„ì…í–ˆì„ ì‹œì ì— observerë¥¼ ì‹¤í–‰í•˜ëŠ” ê²ƒì´ê³ ,      
     1.0ì˜ ê²½ìš°, íƒ€ê²Ÿ ì—˜ë¦¬ë¨¼íŠ¸ê°€ ì „ì²´ êµì°¨ì˜ì—­ì— ë“¤ì–´ì™”ì„ ë•Œ observerë¥¼ ì‹¤í–‰í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.    
     ![](https://raw.githubusercontent.com/hyeyoon/blog/master/public/img/4/threshold.png)   
 -----------------------------------------------------              
 * methods
 
  * `observe()`  : íƒ€ê²Ÿ elementì— ëŒ€í•œ observerë¥¼ ë“±ë¡í•  ë•Œ(ê´€ì°°ì„ ì‹œì‘í•  ë•Œ) 
  * `unobserve()` : íƒ€ê²Ÿ elementì— ëŒ€í•œ observer ë“±ë¡ì„ í•´ì œ
  * `disconnect()` : ì—¬ëŸ¬ê°œì˜ elementë¥¼ ê´€ì°°í•˜ê³  ìˆì„ ë•Œ, ì´ì— ëŒ€í•œ ëª¨ë“  ê´€ì°°ì„ í•´ì œí•  ë•Œ
